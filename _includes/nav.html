<div class="w-100 fixed background-gray-100">
  <div class="container px-0 py-2 py-md-4">
    <div class="navbar navbar-expand-xl">

      <div class="col">
        <a href="/{% if site.lang != 'en' %}{{ site.lang }}{% endif %}">
          <img src="/assets/branding/logo-full-horizontal-dynamic.svg" id="mainlogo" />
        </a>
      </div>

      <div class="col-auto">
        <div class="collapse navbar-collapse flex-grow-0 weight-500">
          <div class="navbar-nav align-items-center">
            {% for link in site.data.navbar %}
            {% assign link_collection = link.url | replace: '/', '' %}
            {% assign url_collection = page.url | split: '/' %}
            {% assign url_collection = url_collection[1] %}
            <div class="nav-item ml-2{% if link_collection == url_collection %} active{% endif %}">
              <a class="nav-link"
                 href="{% unless link.url contains 'http' %}{{ site.baseurl }}{% endunless %}{{ link.url }}">
                {% t {{ link.key }} %}
              </a>
            </div>
            {% endfor %}
            <div class="nav-item ml-2 ml-sm-1 text-center">
              <div class="nav-item dropdown mb-0">
                <button class="nav-link dropdown-toggle" id="navbarDropdown1" aria-label="{% t generic.accessibility.lang-menu %}"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-globe size-16 color-gray-900"></i><span
                     class="ml-1 size-16 color-gray-900 weight-600">{{ site.lang | upcase }}</span>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  {% include nav_languages.html %}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="d-xl-none">
          <div class="nav-item text-center d-inline-block">
            <div class="nav-item dropdown">
              <button class="nav-link dropdown-toggle" id="navbarDropdown2" aria-label="{% t generic.accessibility.lang-menu %}"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fa fa-globe size-16 color-gray-900"></i><span
                   class="ml-1 size-16 color-gray-900 weight-600">{{ site.lang | upcase }}</span>
              </button>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown2">
              {% include nav_languages.html %}
            </div>
          </div>
        </div>

        <button class="navbar-toggler" onclick="openNav()"><img
                src="{{ site.baseurl_root }}/assets/images/icons/burger.svg" /></button>
      </div>

    </div>
  </div>

  <div id="navbar-mobile" class="overlay">
    <button class="closebtn" onclick="closeNav()">&times;</button>
      <div class="overlay-header">
        <img src="/assets/branding/logo-icon.svg" width="80"
             alt="{% t generic.accessibility.logo %}" />
      </div>
      <div class="overlay-content">
        {% for link in site.data.navbar %}
        <a href="{% unless link.url contains 'http' %}{{ site.baseurl }}{% endunless %}{{ link.url }}">{% t {{ link.key }} %}</a>
        {% endfor %}
      </div>
      <div class="overlay-footer">
        {% if site.mastodon_username %}
        <a class="mr-2 color-gray-900" href="https://{{ site.mastodon_server }}/@{{ site.mastodon_username }}" target="_blank"
           rel="me noopener"><i class="fa-brands fa-mastodon mr-1"></i>Mastodon</a>
        {% endif %}
        {% if site.github_username %}
        <a class="mr-2 color-gray-900" href="https://github.com/{{ site.github_username }}" target="_blank"
           rel="noopener"><i class="fa-brands fa-github mr-1"></i>GitHub</a>
        {% endif %}
        {% if site.twitter_username %}
        <a class="mr-2 color-gray-900" href="https://twitter.com/{{ site.twitter_username }}" target="_blank"
           rel="noopener"><i class="fa-brands fa-x-twitter mr-1"></i>Twitter</a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<script>
    function openNav() {
        document.getElementById("navbar-mobile").style.height = "100%";
        document.documentElement.style.overflow = 'hidden';
        document.body.scroll = "no";
    }

    function closeNav() {
        document.getElementById("navbar-mobile").style.height = "0%";
        document.documentElement.style.overflow = 'scroll';
        document.body.scroll = "yes";
    }
</script>
